<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />

        <title>Example Page</title>
        <script type="text/javascript" src="cordova-2.1.0.js"></script>
        <script type="text/javascript" src="LineaLib-2.0.0.js"></script>
        <script type="text/javascript">
            window.onLineaBrowserLoad = function (){
                LineaBrowser.on('buttonPress', function (button){
                                log('Button '+button+' Pressed');
                                });
                LineaBrowser.on('buttonRelease', function (button){
                                log('Button '+button+' Released');
                                });
                LineaBrowser.on('magneticCardData', function(track1, track2, track3){
                                log('Card Read "'+track1+'", "'+track2+'", "'+track3+'"');
                                });
                LineaBrowser.on('creditCardData', function (accountNumber, cardholderName, experationYear, experationMonth, serviceCode, discretionaryData, firstName, lastName){
                                log('Credit Card Read "'+accountNumber+'", "'+cardholderName+'", "'+experationYear+'", "'+experationMonth+'", "'+serviceCode+'", "'+discretionaryData+'", "'+firstName+'", "'+lastName+'"');
                                });
                LineaBrowser.on('magneticCardEncryptedData', function (track1, track2, track3){
                                log('Encrypted Card Read "'+track1+'", "'+track2+'", "'+track3+'"');
                                });
                LineaBrowser.on('magneticCardEncryptedRawData', function (){
                                //Not Supported
                                });
                LineaBrowser.on('connectionState', function (state){
                                log('Connection State changed to: '+state);
                                });
                LineaBrowser.on('barcodeData', function (data, type){
                                log('Barcode Read: "'+data+'", "'+type+'"');
                                });
            };
            function log(msg){
                if(!document.getElementById('logData').innerHTML)
                document.getElementById('logData').innerHTML = msg;
                else
                document.getElementById('logData').innerHTML += "<br />"+msg;
            }
            function playMerryHadALittleLamb(){
                var sounds = [3,2,1,2,3,3,3,2,2,2,3,3,3,3,2,1,2,3,3,3,3,2,3,2,1];
                var position = 0;
                var interval = setInterval(function (){
                                           if(position >= sounds.length){
                                           clearInterval(interval);
                                           return;
                                           }
                                           LineaBrowser.playSound(100, [sounds[position] * 500, 250]);
                                           position++;
                                           }, 250);
            }
            </script>
        <style type="text/css">
            input{
                height: 25px;
                margin-bottom:3px;
            }
            </style>
    </head>
    <body>
        <h1 style="text-align:center;font-size:80px;">Example Page</h1>
            <p>You may click the configuration button at the bottom right of the screen to change the default loading page.</p>
            <p>For documentation please see: <a href="http://api.lineabrowser.allada.com">http://api.lineabrowser.allada.com</a></p>
            <hr />
            <p>Linea Device functions</p>
            <input type="button" value="Play Error Sound" onclick="LineaBrowser.playSound(100, [100,100,0,100,100,100,0,100,100,100]);" style="width:300px" /><br />
            <input type="button" value="Play Merry Had a Little Lamb" onclick="playMerryHadALittleLamb();" style="width:300px" /><br />
            
            <input type="button" value="Enable All Barcodes" onclick="LineaBrowser.enableBarcode(LineaBrowser.BAR_TYPES.BAR_ALL, true);" style="width:300px" /><br />
            <input type="button" value="Disable All Barcodes" onclick="LineaBrowser.enableBarcode(LineaBrowser.BAR_TYPES.BAR_ALL, false);" style="width:300px" /><br />
            
            <input type="button" value="Start Scan" onclick="LineaBrowser.startScan();" style="width:150px" />
            <input type="button" value="Stop Scan" onclick="LineaBrowser.stopScan();" style="width:150px" /><br />
            
            <input type="button" value="Set Scan Timeout to 10 seconds" onclick="LineaBrowser.setScanTimeout(10);" style="width:300px" /><br />
            
            <input type="button" value="Disable Button" onclick="LineaBrowser.setScanButtonMode(LineaBrowser.BUTTON_DISABLED);" style="width:150px" />
            <input type="button" value="Enable Button" onclick="LineaBrowser.setScanButtonMode(LineaBrowser.BUTTON_ENABLED);" / style="width:150px"><br />
                
                <input type="button" value="Enable Persistant Scanning" onclick="LineaBrowser.setScanMode(LineaBrowser.MODE_MULTI_SCAN);" style="width:150px" />
                <input type="button" value="Disable Persistant Scanning" onclick="LineaBrowser.setScanMode(LineaBrowser.MODE_SINGLE_SCAN);" style="width:150px" /><br />
                
                <input type="button" value="Set Random Beep On Scan" onclick="LineaBrowser.setScanBeep(true, 100, [Math.floor(Math.random() * 5000), Math.floor(Math.random() * 1000), Math.floor(Math.random() * 5000), Math.floor(Math.random() * 1000)]);" style="width:150px" />
                <input type="button" value="Disable Beep On Scan" onclick="LineaBrowser.setScanBeep(false, 100, []);" style="width:150px" /><br />
                
                <input type="button" value="Use Extended Barcodes" onclick="LineaBrowser.setBarcodeTypeMode(LineaBrowser.BARCODE_TYPE_EXTENDED);" style="width:150px" />
                <input type="button" value="Use Default Barcodes" onclick="LineaBrowser.setBarcodeTypeMode(LineaBrowser.BARCODE_TYPE_DEFAULT);" style="width:150px" /><br />
                
                <input type="button" value="Hide Config Bar" onclick="LineaBrowser.hideConfigBar();" style="width:150px" />
                <input type="button" value="Show Config Bar" onclick="LineaBrowser.showConfigBar();" style="width:150px" /><br />
                
                <p style="text-align:center;font-weight:bold">Captured Events:</p>
                <hr />
                <div id="logData" style="width:100%;height:300px;overflow:auto;background-color:#EEEEEE"></div>
                </body>
</html>
